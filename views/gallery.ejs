<!DOCTYPE html>
<html>
<head>
  <title>Gallery</title>
  <style>
    .gallery { display: flex; flex-wrap: wrap; }
    .image { margin: 10px; }
    .image img { max-width: 100px; max-height: 100px; }
  </style>
</head>
<body>
  <h2>Gallery</h2>
  <a href="/logout">Logout</a>
  <div class="gallery">
    <% images.forEach(image => { %>
      <div class="image">
        <img src="<%= image.url %>" alt="<%= image.title %>">
        <p>Uploaded by: <%= image.uploadedBy %></p>
        <a href="/delete/<%= image._id %>">Delete</a>
      </div>
    <% }); %>
  </div>
  <div class="pagination">
    <% if (page > 1) { %>
      <a href="/gallery?page=<%= page - 1 %>">Previous</a>
    <% } %>
    <% if (page < totalPages) { %>
      <a href="/gallery?page=<%= page + 1 %>">Next</a>
    <% } %>
  </div>
  <form method="POST" action="/upload" enctype="multipart/form-data">
    <h3>Upload New Image</h3>
    <label for="image">Image File:</label>
    <input type="file" id="image" name="image" required>
    <br>
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" required>
    <br>
    <button type="submit">Upload</button>
  </form>
</body>
</html>
